import{_ as O,a as Q,c as H,b as D,d as W,e as T,f as Y,k as Z,g as ee,h as ae,i as te,j as le}from"./PaginationPrev.vue_vue_type_script_setup_true_lang-CxiLjeQS.js";import{_ as ne}from"./TableCaption.vue_vue_type_script_setup_true_lang-C3StZire.js";import{d as w,c as p,o,F as y,g as i,b as e,n as b,e as t,G as q,w as a,H as I,f as s,C as c,D as $,v as N,A,p as v,y as B,r as se,t as L,q as j,J as oe}from"./index-B8vH-08b.js";import{_ as M}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-mmkrhaMj.js";import{M as ue,F as re,_ as P,a as S,b as U,c as V,d as E,e as X,g as z,f as G}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-B0wWemkz.js";const ie={class:"flex flex-row-reverse w-fit"},de=w({__name:"ListOfAvatars",props:{list:{}},setup(C){const d=C;return(h,u)=>{const g=c("DialogTrigger"),_=c("DialogTitle"),n=c("DialogHeader"),l=c("DialogContent"),m=c("Dialog");return o(),p(y,null,[i("div",ie,[(o(!0),p(y,null,b(d.list,r=>(o(),p("div",{key:r._id,class:"w-[1rem] overflow-visible flex justify-start"},[e(t(q),null,{default:a(()=>[e(t(I),{class:"max-w-none rounded-full border border-border !w-auto aspect-square left-0",src:d.list[0].avatarPath},null,8,["src"]),e(t(M),null,{default:a(()=>u[0]||(u[0]=[s(" User ")])),_:1})]),_:1})]))),128))]),e(m,null,{default:a(()=>[e(g),e(l,null,{default:a(()=>[e(n,null,{default:a(()=>[e(_,null,{default:a(()=>u[1]||(u[1]=[s(" Danh sách người dùng ")])),_:1})]),_:1}),i("div",null,[(o(!0),p(y,null,b(d.list,r=>(o(),p("div",{key:r._id,class:"flex gap-2 py-1"},[i("div",null,[e(t(q),null,{default:a(()=>[e(t(I),{class:"max-w-none rounded-full border border-border !w-auto aspect-square left-0",src:r.avatarPath},null,8,["src"]),e(t(M),null,{default:a(()=>u[2]||(u[2]=[s(" User ")])),_:1})]),_:2},1024)]),i("div",null,[i("div",null,[s($(r.nickname)+" ",1),i("span",{class:N(["inline",{"text-blue-600":r.gender==="male","text-pink-600":r.gender==="female"}])},$(r.gender==="male"?ue:re),3)])])]))),128))])]),_:1})]),_:1})],64)}}}),_e=w({__name:"ApproveRoom",props:{room:{}},emits:["update"],setup(C,{emit:d}){const h=C,{patch:u}=A(`/rooms/${h.room._id}/approve`,{immediate:!1}),g=d,_=async()=>{const{data:n,execute:l}=u().json();await l(),n.value.status&&(g("update"),console.log("Aint nothing but a heartache"))};return(n,l)=>(o(),v(t(P),null,{default:a(()=>[e(t(S),null,{default:a(()=>[B(n.$slots,"default")]),_:3}),e(t(U),null,{default:a(()=>[e(t(V),null,{default:a(()=>[e(t(E),null,{default:a(()=>l[0]||(l[0]=[s(" Xác nhận yêu cầu Matching ")])),_:1}),e(t(X),null,{default:a(()=>[s($(n.room.name),1)]),_:1})]),_:1}),e(t(z),{onClick:_},{default:a(()=>l[1]||(l[1]=[s("Tiếp tục")])),_:1}),e(t(G),null,{default:a(()=>l[2]||(l[2]=[s("Hủy")])),_:1})]),_:1})]),_:3}))}}),fe=w({__name:"RejectRoom",props:{room:{}},emits:["update"],setup(C,{emit:d}){const h=C,{patch:u}=A(`/rooms/${h.room._id}/reject`,{immediate:!1}),g=d,_=async()=>{const{data:n,execute:l}=u().json();await l(),n.value.status&&g("update")};return(n,l)=>(o(),v(t(P),null,{default:a(()=>[e(t(S),null,{default:a(()=>[B(n.$slots,"default")]),_:3}),e(t(U),null,{default:a(()=>[e(t(V),null,{default:a(()=>[e(t(E),null,{default:a(()=>l[0]||(l[0]=[s(" Từ chối yêu cầu Matching ")])),_:1}),e(t(X),null,{default:a(()=>[s($(n.room.name),1)]),_:1})]),_:1}),e(t(z),{onClick:_},{default:a(()=>l[1]||(l[1]=[s("Tiếp tục")])),_:1}),e(t(G),null,{default:a(()=>l[2]||(l[2]=[s("Hủy")])),_:1})]),_:1})]),_:3}))}}),ce={class:"mt-4"},me={class:"border rounded"},pe={class:"flex gap-2"},ge="/rooms",ke=w({__name:"RoomList",setup(C){const d=se({page:1,limit:10,userId:""}),h=L(()=>{const n=new URLSearchParams(d.value),l=[];return n.forEach((m,r)=>{(m===void 0||m==="undefined"||m==="")&&l.push(r)}),l.forEach(m=>{n.delete(m)}),`${ge}?${n.toString()}`}),{data:u,isFetching:g}=A(h,{refetch:!0}).json(),_=L(()=>{var n;return(n=u.value)==null?void 0:n.metaData});return(n,l)=>{const m=c("CardTitle"),r=c("CardHeader"),R=c("Icon"),J=c("CardContent"),K=c("Card");return o(),v(K,{class:""},{default:a(()=>[e(r,null,{default:a(()=>[e(m,null,{default:a(()=>l[1]||(l[1]=[s(" Các phòng chat ")])),_:1})]),_:1}),e(J,null,{default:a(()=>[i("div",ce,[i("div",me,[e(t(O),{class:"",loading:t(g)},{default:a(()=>[e(t(ne),null,{default:a(()=>l[2]||(l[2]=[i("div",null,"Đây là các phòng chat trong hệ thống",-1)])),_:1}),e(t(Q),null,{default:a(()=>[e(t(H),null,{default:a(()=>[e(t(D),null,{default:a(()=>l[3]||(l[3]=[s(" Tên phòng ")])),_:1}),e(t(D),null,{default:a(()=>l[4]||(l[4]=[s(" Trạng thái xác nhận ")])),_:1}),e(t(D),null,{default:a(()=>l[5]||(l[5]=[s(" Ngày tạo ")])),_:1})]),_:1})]),_:1}),_.value?(o(),v(t(W),{key:0},{default:a(()=>{var k;return[(o(!0),p(y,null,b((k=_.value)==null?void 0:k.results,f=>(o(),v(t(H),{key:f._id,class:"odd:bg-(--color-background-mute)"},{default:a(()=>[e(t(T),null,{default:a(()=>[s($(f.name)+" ",1),i("div",null,[e(de,{list:f.memberDetails},null,8,["list"])])]),_:2},1024),e(t(T),null,{default:a(()=>[i("div",pe,[s($(f.isApproved?"Đã xác nhận":"Chưa xác nhận")+" ",1),f.isApproved?j("",!0):(o(),p(y,{key:0},[e(_e,{room:f,class:"text-primary"},{default:a(()=>[e(R,{name:"Check"})]),_:2},1032,["room"]),e(fe,{room:f},{default:a(()=>[e(R,{class:"text-destructive",name:"X"})]),_:2},1032,["room"])],64))])]),_:2},1024),e(t(T),null,{default:a(()=>[s($(t(oe).format(new Date(f.createdAt))),1)]),_:2},1024)]),_:2},1024))),128))]}),_:1})):j("",!0)]),_:1},8,["loading"])]),_.value?(o(),v(t(Y),{key:0,class:"mt-4","items-per-page":_.value.limit,total:_.value.totalResults,"show-edges":"",page:d.value.page,"onUpdate:page":l[0]||(l[0]=k=>d.value.page=k),disabled:t(g)},{default:a(({page:k})=>[e(t(Z),{class:"flex items-center gap-1"},{default:a(({items:f})=>[e(t(ee),{class:"w-6 h-6"}),(o(!0),p(y,null,b(f,(x,F)=>(o(),p(y,null,[x.type==="page"?(o(),v(t(ae),{key:F,value:x.value,"as-child":""},{default:a(()=>[i("button",{class:N(["w-6 h-6 p-0 hover:bg-primary/50 cursor-pointer rounded",{"bg-primary text-primary-foreground":x.value===k}])},$(x.value),3)]),_:2},1032,["value"])):(o(),v(t(te),{key:x.type,index:F},null,8,["index"]))],64))),256)),e(t(le),{class:"w-6 h-6"})]),_:2},1024)]),_:1},8,["items-per-page","total","page","disabled"])):j("",!0)])]),_:1})]),_:1})}}});export{ke as default};
//# sourceMappingURL=RoomList-ps0_WaA5.js.map
