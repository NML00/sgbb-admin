import{_ as D,a as F,b as j,c as L}from"./CardContent.vue_vue_type_script_setup_true_lang-D1w6cxqI.js";import{d as C,x as P,r as T,p as B,o as r,w as e,b as s,e as a,g as d,y as S,f as m,_ as p,m as w,h as I,v as h,c as f,q as N,F as V,n as E,D as z,E as R,z as A}from"./index-D--M5Z6l.js";import{_ as U}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-C_WIj41t.js";import{a as q,d as M,b as Q,c as G,e as H,_ as J}from"./DialogContent.vue_vue_type_script_setup_true_lang-GMZLi9Wt.js";import{t as K,o as O,s as v,u as W,F as g,_ as $,a as y,b,c as x}from"./FormMessage.vue_vue_type_script_setup_true_lang-BFl7SuWg.js";const X={class:"p-1 leading-4 rounded-full hover:bg-secondary"},Y=C({__name:"CreateAdminDialog",setup(k){const c=K(O({password:v().min(6),confirmPassword:v().min(6),email:v().email()}).superRefine(({confirmPassword:l,password:t},o)=>{l!==t&&o.addIssue({code:"custom",message:"The passwords did not match",path:["confirmPassword"]})})),i=W({validationSchema:c}).handleSubmit(async l=>{const{password:t,email:o}=l,{data:n}=await P("auth/create").post({password:t,email:o}).json();n.value&&(u.value=!0)}),u=T(!1);return(l,t)=>{const o=S("Icon");return r(),B(a(J),{open:u.value,"onUpdate:open":t[1]||(t[1]=n=>u.value=n)},{default:e(()=>[s(a(q),null,{default:e(()=>[d("button",X,[s(o,{name:"Plus",size:"36"})])]),_:1}),s(a(M),{class:"bg-secondary rounded"},{default:e(()=>[s(a(Q),null,{default:e(()=>[s(a(G),null,{default:e(()=>t[2]||(t[2]=[m("Create Admin")])),_:1}),s(a(H),null,{default:e(()=>t[3]||(t[3]=[m(" Create a new admin with email and password ")])),_:1})]),_:1}),d("div",null,[d("form",{onSubmit:t[0]||(t[0]=(...n)=>a(i)&&a(i)(...n))},[s(a(g),{name:"email"},{default:e(({componentField:n})=>[s(a($),{class:"mb-4"},{default:e(()=>[s(a(y),null,{default:e(()=>t[4]||(t[4]=[m("Email")])),_:1}),s(a(b),null,{default:e(()=>[s(a(p),w({type:"text",autocomplete:"email",placeholder:"example@mail.com"},n),null,16)]),_:2},1024),s(a(x))]),_:2},1024)]),_:1}),s(a(g),{name:"password"},{default:e(({componentField:n})=>[s(a($),null,{default:e(()=>[s(a(y),null,{default:e(()=>t[5]||(t[5]=[m("Password")])),_:1}),s(a(b),null,{default:e(()=>[s(a(p),w({type:"password",autocomplete:"new-password"},n),null,16)]),_:2},1024),s(a(x))]),_:2},1024)]),_:1}),s(a(g),{name:"confirmPassword"},{default:e(({componentField:n})=>[s(a($),null,{default:e(()=>[s(a(y),null,{default:e(()=>t[6]||(t[6]=[m("Confirm Password")])),_:1}),s(a(b),null,{default:e(()=>[s(a(p),w({type:"password",autocomplete:"new-password"},n),null,16)]),_:2},1024),s(a(x))]),_:2},1024)]),_:1}),s(a(I),{class:"w-full mt-4",type:"submit"},{default:e(()=>t[7]||(t[7]=[m("Login")])),_:1})],32)])]),_:1})]),_:1},8,["open"])}}}),Z={class:"grid grid-cols-12"},aa={class:"flex gap-2 justify-between"},sa={key:0,class:"mt-4"},ea={class:"ml-4 space-y-1"},ta={class:"text-sm font-medium leading-none"},na={class:"text-sm text-muted-foreground uppercase"},la="/manager/list",ra=C({__name:"AdminList",setup(k){const c=h(()=>la),{data:_}=P(c).json(),i=h(()=>{var u;return((u=_.value)==null?void 0:u.status)===200&&_.value.metaData?_.value.metaData:void 0});return(u,l)=>{const t=S("page-header");return r(),f("div",null,[s(t,{title:"Quản lý Admin"}),d("div",Z,[s(a(D),{class:"col-span-7"},{default:e(()=>[s(a(F),null,{default:e(()=>[s(a(j),null,{default:e(()=>[d("div",aa,[l[0]||(l[0]=m(" Danh sách Admin ")),s(Y)])]),_:1})]),_:1}),s(a(L),{class:"pl-2"},{default:e(()=>[i.value?(r(),f("div",sa,[(r(!0),f(V,null,E(i.value.results,o=>(r(),f("div",{class:"flex items-center bg-muted p-1",key:`admin${o.id}`},[s(a(z),{class:"h-9 w-9"},{default:e(()=>[s(a(R),{src:"/avatars/01.png",alt:"Avatar"}),s(a(U),null,{default:e(()=>l[1]||(l[1]=[m("Admin")])),_:1})]),_:1}),d("div",ea,[d("p",ta,A(o.email),1),d("p",na,A(o.roles),1)])]))),128))])):N("",!0)]),_:1})]),_:1})])])}}});export{ra as default};
//# sourceMappingURL=AdminList-YEh338IL.js.map
