import{_ as D,a as F,b as j,c as L}from"./CardContent.vue_vue_type_script_setup_true_lang-DFfs-Pnc.js";import{d as C,C as P,r as T,p as B,o as r,w as e,b as s,e as a,g as m,y as S,f as d,_ as p,m as w,h as I,x as h,c as f,q as N,F as V,n as z,z as E,A as R,D as A}from"./index-DNzeS8sv.js";import{_ as U,a as q,b as M,c as Q,d as G,e as H,f as J}from"./DialogContent.vue_vue_type_script_setup_true_lang-DwaV2XCR.js";import{t as K,o as O,s as g,u as W,F as v,_ as $,a as y,b,c as x}from"./FormMessage.vue_vue_type_script_setup_true_lang-CJdJ_T6W.js";const X={class:"p-1 leading-4 rounded-full hover:bg-secondary"},Y=C({__name:"CreateAdminDialog",setup(k){const c=K(O({password:g().min(6),confirmPassword:g().min(6),email:g().email()}).superRefine(({confirmPassword:l,password:t},o)=>{l!==t&&o.addIssue({code:"custom",message:"The passwords did not match",path:["confirmPassword"]})})),i=W({validationSchema:c}).handleSubmit(async l=>{const{password:t,email:o}=l,{data:n}=await P("auth/create").post({password:t,email:o}).json();n.value&&(u.value=!0)}),u=T(!1);return(l,t)=>{const o=S("Icon");return r(),B(a(H),{open:u.value,"onUpdate:open":t[1]||(t[1]=n=>u.value=n)},{default:e(()=>[s(a(U),null,{default:e(()=>[m("button",X,[s(o,{name:"Plus",size:"36"})])]),_:1}),s(a(q),{class:"bg-secondary rounded"},{default:e(()=>[s(a(M),null,{default:e(()=>[s(a(Q),null,{default:e(()=>t[2]||(t[2]=[d("Create Admin")])),_:1}),s(a(G),null,{default:e(()=>t[3]||(t[3]=[d(" Create a new admin with email and password ")])),_:1})]),_:1}),m("div",null,[m("form",{onSubmit:t[0]||(t[0]=(...n)=>a(i)&&a(i)(...n))},[s(a(v),{name:"email"},{default:e(({componentField:n})=>[s(a($),{class:"mb-4"},{default:e(()=>[s(a(y),null,{default:e(()=>t[4]||(t[4]=[d("Email")])),_:1}),s(a(b),null,{default:e(()=>[s(a(p),w({type:"text",autocomplete:"email",placeholder:"example@mail.com"},n),null,16)]),_:2},1024),s(a(x))]),_:2},1024)]),_:1}),s(a(v),{name:"password"},{default:e(({componentField:n})=>[s(a($),null,{default:e(()=>[s(a(y),null,{default:e(()=>t[5]||(t[5]=[d("Password")])),_:1}),s(a(b),null,{default:e(()=>[s(a(p),w({type:"password",autocomplete:"new-password"},n),null,16)]),_:2},1024),s(a(x))]),_:2},1024)]),_:1}),s(a(v),{name:"confirmPassword"},{default:e(({componentField:n})=>[s(a($),null,{default:e(()=>[s(a(y),null,{default:e(()=>t[6]||(t[6]=[d("Confirm Password")])),_:1}),s(a(b),null,{default:e(()=>[s(a(p),w({type:"password",autocomplete:"new-password"},n),null,16)]),_:2},1024),s(a(x))]),_:2},1024)]),_:1}),s(a(I),{class:"w-full mt-4",type:"submit"},{default:e(()=>t[7]||(t[7]=[d("Login")])),_:1})],32)])]),_:1})]),_:1},8,["open"])}}}),Z={class:"grid grid-cols-12"},aa={class:"flex gap-2 justify-between"},sa={key:0,class:"mt-4"},ea={class:"ml-4 space-y-1"},ta={class:"text-sm font-medium leading-none"},na={class:"text-sm text-muted-foreground uppercase"},la="/manager/list",ia=C({__name:"AdminList",setup(k){const c=h(()=>la),{data:_}=P(c).json(),i=h(()=>{var u;return((u=_.value)==null?void 0:u.status)===200&&_.value.metaData?_.value.metaData:void 0});return(u,l)=>{const t=S("page-header");return r(),f("div",null,[s(t,{title:"Quản lý Admin"}),m("div",Z,[s(a(D),{class:"col-span-7"},{default:e(()=>[s(a(F),null,{default:e(()=>[s(a(j),null,{default:e(()=>[m("div",aa,[l[0]||(l[0]=d(" Danh sách Admin ")),s(Y)])]),_:1})]),_:1}),s(a(L),{class:"pl-2"},{default:e(()=>[i.value?(r(),f("div",sa,[(r(!0),f(V,null,z(i.value.results,o=>(r(),f("div",{class:"flex items-center bg-muted p-1",key:`admin${o.id}`},[s(a(E),{class:"h-9 w-9"},{default:e(()=>[s(a(R),{src:"/avatars/01.png",alt:"Avatar"}),s(a(J),null,{default:e(()=>l[1]||(l[1]=[d("Admin")])),_:1})]),_:1}),m("div",ea,[m("p",ta,A(o.email),1),m("p",na,A(o.roles),1)])]))),128))])):N("",!0)]),_:1})]),_:1})])])}}});export{ia as default};
//# sourceMappingURL=AdminList-CEVw-__q.js.map
