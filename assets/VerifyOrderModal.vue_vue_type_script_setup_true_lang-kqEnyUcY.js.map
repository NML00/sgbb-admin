{"version":3,"file":"VerifyOrderModal.vue_vue_type_script_setup_true_lang-kqEnyUcY.js","sources":["../../src/components/money/VerifyOrderModal.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { BalanceOrder } from '@/stores/balance'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from '../ui/dialog'\nimport { useMyFetch } from '@/config/fetch'\nimport { computed, ref, watch } from 'vue'\nimport { formateDate, truncateNumber } from '@/lib/utils'\nimport { Button } from '../ui/button'\n\nconst mockResponse = {\n  message: 'Approve transaction successfully!',\n  status: 200,\n  metaData: {\n    updateTransaction: {\n      userId: '1911171',\n      received: null,\n      type: 'deposit',\n      transaction: 'b113ade273404ea1c978f781248cd96c4c6b9d8a',\n      amount: 200,\n      amount_vnd: 200000,\n      comment: '1911171',\n      status: 'Success',\n      fee: 0,\n      createdAt: '2025-04-06T12:11:11.155Z',\n      id: '67ff2fd32b95d3e5c83bb077'\n    },\n    updatedVipData: {\n      currentVipLevel: 0,\n      remainingRecharge: 800\n    }\n  }\n}\nconst props = defineProps<{\n  order: BalanceOrder\n}>()\nconst payload = computed(() => {\n  return {\n    transaction: props.order.transaction\n  }\n})\nconst {\n  data,\n  execute: verifyOrder,\n  isFetching: pending\n} = useMyFetch('balance', { immediate: false }).post(payload).json()\n\nconst open = ref()\nwatch(data, () => {\n  console.log('Here is', data)\n  if (data.value?.status === 200) {\n    open.value = false\n  }\n})\n</script>\n\n<template>\n  <Dialog v-model:open=\"open\">\n    <DialogTrigger>\n      <slot />\n    </DialogTrigger>\n    <DialogContent>\n      <DialogHeader>\n        <DialogTitle> Duyệt lệnh </DialogTitle>\n        <DialogDescription> Bạn hãy kiểm tra lại thông tin </DialogDescription>\n      </DialogHeader>\n      <div>\n        <div class=\"mt-4\">\n          <div>ID người dùng:</div>\n          <div class=\"pl-2\">{{ props.order.userId }}</div>\n        </div>\n        <div class=\"mt-4\">\n          <div>Số tiền chuyển khoản:</div>\n          <div class=\"pl-2\">\n            <span v-if=\"props.order.type === 'deposit'\">Nạp</span>\n            <span v-if=\"props.order.type === 'withdraw'\">Rút</span>\n            {{ truncateNumber(props.order.amount_vnd) }} VNĐ ({{ props.order.type }})\n          </div>\n        </div>\n        <div v-if=\"props.order.amount\" class=\"mt-4\">\n          <div>Số tiền nạp:</div>\n          <div class=\"pl-2\">{{ truncateNumber(props.order.amount) }} Diamonds</div>\n        </div>\n        <div v-if=\"props.order.createdAt\" class=\"mt-4\">\n          <div>Thời gian tạo lệnh:</div>\n          <div class=\"pl-2\">{{ formateDate(props.order.createdAt) }}</div>\n        </div>\n        <div class=\"border-t-2 border-dashed border-accent my-4\"></div>\n        <div class=\"text-center\">\n          <Button :disabled=\"pending\" @click=\"verifyOrder\"> Duyệt lệnh </Button>\n        </div>\n      </div>\n    </DialogContent>\n  </Dialog>\n</template>\n"],"names":["props","__props","payload","computed","data","verifyOrder","pending","useMyFetch","open","ref","watch","_a"],"mappings":"8hBAsCA,MAAMA,EAAQC,EAGRC,EAAUC,EAAS,KAChB,CACL,YAAaH,EAAM,MAAM,WAC3B,EACD,EACK,CACJ,KAAAI,EACA,QAASC,EACT,WAAYC,CAAA,EACVC,EAAW,UAAW,CAAE,UAAW,EAAO,CAAA,EAAE,KAAKL,CAAO,EAAE,KAAK,EAE7DM,EAAOC,EAAI,EACjB,OAAAC,EAAMN,EAAM,IAAM,OACR,QAAA,IAAI,UAAWA,CAAI,IACvBO,EAAAP,EAAK,QAAL,YAAAO,EAAY,UAAW,MACzBH,EAAK,MAAQ,GACf,CACD"}