import{_ as N,a as O,b as j,c as I}from"./CardContent.vue_vue_type_script_setup_true_lang-Cd420KQS.js";import{d as _,z as F,l as w,o as p,e,A as E,B as z,C as S,w as a,D as y,V as M,c as v,E as R,G as b,q as $,N as T,H,m as g,I as K,J as U,b as s,K as q,L as G,M as J,g as m,X as Q,O as V,r as X,t as L,f,_ as x,h as W,n as Y,F as Z,k as ee,v as se,x as ae,P as A}from"./index-Bt39ikNc.js";import{_ as te}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-BCErXgsM.js";import{t as oe,o as ne,s as h,u as le,F as P,_ as C,a as B,b as D,c as k}from"./FormMessage.vue_vue_type_script_setup_true_lang-B-uR-5ZI.js";const de=_({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(i,{emit:n}){const l=F(i,n);return(o,t)=>(p(),w(e(E),z(S(e(l))),{default:a(()=>[y(o.$slots,"default")]),_:3},16))}}),re=_({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(i){const n=i;return(d,r)=>(p(),w(e(M),z(S(n)),{default:a(()=>[y(d.$slots,"default")]),_:3},16))}}),ue=_({__name:"DialogHeader",props:{class:{}},setup(i){const n=i;return(d,r)=>(p(),v("div",{class:R(e(b)("flex flex-col gap-y-1.5 text-center sm:text-left",n.class))},[y(d.$slots,"default")],2))}}),ie=_({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const n=i,d=$(()=>{const{class:l,...o}=n;return o}),r=T(d);return(l,o)=>(p(),w(e(H),g(e(r),{class:e(b)("text-lg font-semibold leading-none tracking-tight",n.class)}),{default:a(()=>[y(l.$slots,"default")]),_:3},16,["class"]))}}),ce=_({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const n=i,d=$(()=>{const{class:l,...o}=n;return o}),r=T(d);return(l,o)=>(p(),w(e(K),g(e(r),{class:e(b)("text-sm text-muted-foreground",n.class)}),{default:a(()=>[y(l.$slots,"default")]),_:3},16,["class"]))}}),pe=_({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(i,{emit:n}){const d=i,r=n,l=$(()=>{const{class:t,...u}=d;return u}),o=F(l,r);return(t,u)=>(p(),w(e(U),null,{default:a(()=>[s(e(q),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),s(e(G),g(e(o),{class:e(b)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",d.class)}),{default:a(()=>[y(t.$slots,"default"),s(e(J),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:a(()=>[s(e(Q),{class:"w-4 h-4"}),u[0]||(u[0]=m("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),me={class:"p-1 leading-4 rounded-full hover:bg-secondary"},fe=_({__name:"CreateAdminDialog",setup(i){const n=oe(ne({password:h().min(6),confirmPassword:h().min(6),email:h().email()}).superRefine(({confirmPassword:o,password:t},u)=>{o!==t&&u.addIssue({code:"custom",message:"The passwords did not match",path:["confirmPassword"]})})),r=le({validationSchema:n}).handleSubmit(async o=>{const{password:t,email:u}=o,{data:c}=await V("auth/create").post({password:t,email:u}).json();c.value&&(l.value=!0)}),l=X(!1);return(o,t)=>{const u=L("Icon");return p(),w(e(de),{open:l.value,"onUpdate:open":t[1]||(t[1]=c=>l.value=c)},{default:a(()=>[s(e(re),null,{default:a(()=>[m("button",me,[s(u,{name:"Plus",size:"36"})])]),_:1}),s(e(pe),{class:"bg-secondary rounded"},{default:a(()=>[s(e(ue),null,{default:a(()=>[s(e(ie),null,{default:a(()=>t[2]||(t[2]=[f("Create Admin")])),_:1}),s(e(ce),null,{default:a(()=>t[3]||(t[3]=[f(" Create a new admin with email and password ")])),_:1})]),_:1}),m("div",null,[m("form",{onSubmit:t[0]||(t[0]=(...c)=>e(r)&&e(r)(...c))},[s(e(P),{name:"email"},{default:a(({componentField:c})=>[s(e(C),{class:"mb-4"},{default:a(()=>[s(e(B),null,{default:a(()=>t[4]||(t[4]=[f("Email")])),_:1}),s(e(D),null,{default:a(()=>[s(e(x),g({type:"text",autocomplete:"email",placeholder:"example@mail.com"},c),null,16)]),_:2},1024),s(e(k))]),_:2},1024)]),_:1}),s(e(P),{name:"password"},{default:a(({componentField:c})=>[s(e(C),null,{default:a(()=>[s(e(B),null,{default:a(()=>t[5]||(t[5]=[f("Password")])),_:1}),s(e(D),null,{default:a(()=>[s(e(x),g({type:"password",autocomplete:"new-password"},c),null,16)]),_:2},1024),s(e(k))]),_:2},1024)]),_:1}),s(e(P),{name:"confirmPassword"},{default:a(({componentField:c})=>[s(e(C),null,{default:a(()=>[s(e(B),null,{default:a(()=>t[6]||(t[6]=[f("Confirm Password")])),_:1}),s(e(D),null,{default:a(()=>[s(e(x),g({type:"password",autocomplete:"new-password"},c),null,16)]),_:2},1024),s(e(k))]),_:2},1024)]),_:1}),s(e(W),{class:"w-full mt-4",type:"submit"},{default:a(()=>t[7]||(t[7]=[f("Login")])),_:1})],32)])]),_:1})]),_:1},8,["open"])}}}),_e={class:"grid grid-cols-12"},ge={class:"flex gap-2 justify-between"},we={key:0,class:"mt-4"},ye={class:"ml-4 space-y-1"},ve={class:"text-sm font-medium leading-none"},$e={class:"text-sm text-muted-foreground uppercase"},be="/manager/list",Be=_({__name:"AdminList",setup(i){const n=$(()=>be),{data:d}=V(n).json(),r=$(()=>{var l;return((l=d.value)==null?void 0:l.status)===200&&d.value.metaData?d.value.metaData:void 0});return(l,o)=>{const t=L("page-header");return p(),v("div",null,[s(t,{title:"Quản lý Admin"}),m("div",_e,[s(e(N),{class:"col-span-7"},{default:a(()=>[s(e(O),null,{default:a(()=>[s(e(j),null,{default:a(()=>[m("div",ge,[o[0]||(o[0]=f(" Danh sách Admin ")),s(fe)])]),_:1})]),_:1}),s(e(I),{class:"pl-2"},{default:a(()=>[r.value?(p(),v("div",we,[(p(!0),v(Z,null,ee(r.value.results,u=>(p(),v("div",{class:"flex items-center bg-muted p-1",key:`admin${u.id}`},[s(e(se),{class:"h-9 w-9"},{default:a(()=>[s(e(ae),{src:"/avatars/01.png",alt:"Avatar"}),s(e(te),null,{default:a(()=>o[1]||(o[1]=[f("Admin")])),_:1})]),_:1}),m("div",ye,[m("p",ve,A(u.email),1),m("p",$e,A(u.roles),1)])]))),128))])):Y("",!0)]),_:1})]),_:1})])])}}});export{Be as default};
//# sourceMappingURL=AdminList-CC7-QNBK.js.map
