{"version":3,"file":"UserEncapsulation.vue_vue_type_script_setup_true_lang-BGcNaTbk.js","sources":["../../src/components/UserEncapsulation.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from './ui/dialog'\nimport { useMyFetch, type ListData, type Response } from '@/config/fetch'\nimport type { User } from '@/stores/user'\nimport { computed, toRefs } from 'vue'\n\nconst props = defineProps<{\n  userInfo?: User\n  userId: string\n}>()\n\nconst { userInfo, userId } = toRefs(props)\nconst fullAPIURL = computed(() => {\n  return `/user/list?refId=${userId.value}`\n})\nconst { data: response, isFetching, execute } = useMyFetch(fullAPIURL, { immediate: false }).json<Response<ListData<User>>>()\nconst data = computed(() => {\n  return response.value?.metaData.results[0]\n})\nconst userData = computed(() => {\n  return {...userInfo.value, ...data.value}\n})\nconst handleOpen = async (open: boolean) => {\n  if (open) {\n    if (!userInfo.value) {\n      await execute()\n    }\n  }\n}\n</script>\n\n<template>\n  <Dialog @update:open=\"handleOpen\">\n    <DialogTrigger>\n      <slot>\n        <span class=\"p-1 rounded bg-foreground text-secondary\">{{ userId }} <Icon name=\"User\" class=\"inline\"></Icon></span>\n      </slot>\n    </DialogTrigger>\n    <DialogContent>\n      <DialogHeader>\n        <DialogTitle>{{ userData?.firstName }} {{ userData?.lastName }}</DialogTitle>\n        <DialogDescription>\n          Thông tin người dùng\n        </DialogDescription>\n      </DialogHeader>\n      <div>\n      <div class=\"flex gap-2 py-2 items-center\">\n        <div class=\"basis-[6rem] aspect-square bg-muted outline outline-accent rounded-xl relative leading-0 shrink-0\">\n          <img class=\"w-full aspect-square object-cover rounded-xl absolute inset-0\" :src=\"userData.avatarPath\" />\n        </div>\n        <div>\n          <div class=\"flex gap-2\">\n            <div>\n              <div class=\"text-[0.875em]\">\n                First name\n              </div>\n              <div class=\"bg-muted text-muted-foreground rounded px-1\">\n                {{ userData.firstName }}\n              </div>\n            </div>\n            <div>\n              <div class=\"text-[0.875em]\">\n                Last name\n              </div>\n              <div class=\"bg-muted text-muted-foreground rounded px-1\">\n                {{ userData.lastName }}\n              </div>\n            </div>\n            <div>\n              <div class=\"text-[0.875em]\">\n                Nickname\n              </div>\n              <div class=\"bg-muted text-muted-foreground rounded px-1\">\n                {{ userData.nickname }}\n              </div>\n            </div>\n          </div>\n          <div>\n            <Icon class=\"inline-block pr-2\" name=\"Mail\"></Icon>\n            {{ userData.email ?? 'N/A' }}\n          </div>\n          <div>\n            <Icon class=\"inline-block pr-2\" name=\"Phone\"></Icon>\n            {{ userData.phone ?? 'N/A' }}\n          </div>\n        </div>\n      </div>\n        <div class=\"flex gap-2\">\n          <div>Balance</div>\n          <div>{{userData.balance}}</div>\n        </div>\n      </div>\n    </DialogContent>\n  </Dialog>\n</template>\n"],"names":["props","__props","userInfo","userId","toRefs","fullAPIURL","computed","response","isFetching","execute","useMyFetch","data","_a","userData","handleOpen","open"],"mappings":"o0BAaA,MAAMA,EAAQC,EAKR,CAAE,SAAAC,EAAU,OAAAC,GAAWC,EAAOJ,CAAK,EACnCK,EAAaC,EAAS,IACnB,oBAAoBH,EAAO,KAAK,EACxC,EACK,CAAE,KAAMI,EAAU,WAAAC,EAAY,QAAAC,CAAQ,EAAIC,EAAWL,EAAY,CAAE,UAAW,EAAO,CAAA,EAAE,KAA+B,EACtHM,EAAOL,EAAS,IAAM,OAC1B,OAAOM,EAAAL,EAAS,QAAT,YAAAK,EAAgB,SAAS,QAAQ,EAAC,CAC1C,EACKC,EAAWP,EAAS,KACjB,CAAC,GAAGJ,EAAS,MAAO,GAAGS,EAAK,KAAK,EACzC,EACKG,EAAa,MAAOC,GAAkB,CACtCA,IACGb,EAAS,OACZ,MAAMO,EAAQ,EAGpB"}