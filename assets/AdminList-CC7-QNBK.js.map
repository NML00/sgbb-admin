{"version":3,"file":"AdminList-CC7-QNBK.js","sources":["../../src/components/ui/dialog/Dialog.vue","../../src/components/ui/dialog/DialogTrigger.vue","../../src/components/ui/dialog/DialogHeader.vue","../../src/components/ui/dialog/DialogTitle.vue","../../src/components/ui/dialog/DialogDescription.vue","../../src/components/ui/dialog/DialogContent.vue","../../src/components/CreateAdminDialog.vue","../../src/views/dashboard/AdminList.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { DialogRoot, type DialogRootEmits, type DialogRootProps, useForwardPropsEmits } from 'radix-vue'\n\nconst props = defineProps<DialogRootProps>()\nconst emits = defineEmits<DialogRootEmits>()\n\nconst forwarded = useForwardPropsEmits(props, emits)\n</script>\n\n<template>\n  <DialogRoot v-bind=\"forwarded\">\n    <slot />\n  </DialogRoot>\n</template>\n","<script setup lang=\"ts\">\nimport { DialogTrigger, type DialogTriggerProps } from 'radix-vue'\n\nconst props = defineProps<DialogTriggerProps>()\n</script>\n\n<template>\n  <DialogTrigger v-bind=\"props\">\n    <slot />\n  </DialogTrigger>\n</template>\n","<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue'\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<{\n  class?: HTMLAttributes['class']\n}>()\n</script>\n\n<template>\n  <div\n    :class=\"cn('flex flex-col gap-y-1.5 text-center sm:text-left', props.class)\"\n  >\n    <slot />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { type HTMLAttributes, computed } from 'vue'\nimport { DialogTitle, type DialogTitleProps, useForwardProps } from 'radix-vue'\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<DialogTitleProps & { class?: HTMLAttributes['class'] }>()\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props\n\n  return delegated\n})\n\nconst forwardedProps = useForwardProps(delegatedProps)\n</script>\n\n<template>\n  <DialogTitle\n    v-bind=\"forwardedProps\"\n    :class=\"\n      cn(\n        'text-lg font-semibold leading-none tracking-tight',\n        props.class,\n      )\n    \"\n  >\n    <slot />\n  </DialogTitle>\n</template>\n","<script setup lang=\"ts\">\nimport { type HTMLAttributes, computed } from 'vue'\nimport { DialogDescription, type DialogDescriptionProps, useForwardProps } from 'radix-vue'\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<DialogDescriptionProps & { class?: HTMLAttributes['class'] }>()\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props\n\n  return delegated\n})\n\nconst forwardedProps = useForwardProps(delegatedProps)\n</script>\n\n<template>\n  <DialogDescription\n    v-bind=\"forwardedProps\"\n    :class=\"cn('text-sm text-muted-foreground', props.class)\"\n  >\n    <slot />\n  </DialogDescription>\n</template>\n","<script setup lang=\"ts\">\nimport { type HTMLAttributes, computed } from 'vue'\nimport {\n  DialogClose,\n  DialogContent,\n  type DialogContentEmits,\n  type DialogContentProps,\n  DialogOverlay,\n  DialogPortal,\n  useForwardPropsEmits,\n} from 'radix-vue'\nimport { X } from 'lucide-vue-next'\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<DialogContentProps & { class?: HTMLAttributes['class'] }>()\nconst emits = defineEmits<DialogContentEmits>()\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props\n\n  return delegated\n})\n\nconst forwarded = useForwardPropsEmits(delegatedProps, emits)\n</script>\n\n<template>\n  <DialogPortal>\n    <DialogOverlay\n      class=\"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\"\n    />\n    <DialogContent\n      v-bind=\"forwarded\"\n      :class=\"\n        cn(\n          'fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',\n          props.class,\n        )\"\n    >\n      <slot />\n\n      <DialogClose\n        class=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\"\n      >\n        <X class=\"w-4 h-4\" />\n        <span class=\"sr-only\">Close</span>\n      </DialogClose>\n    </DialogContent>\n  </DialogPortal>\n</template>\n","<script setup lang=\"ts\">\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from './ui/dialog'\nimport { useForm } from 'vee-validate'\nimport { toTypedSchema } from '@vee-validate/zod'\nimport * as z from 'zod'\nimport { FormControl, FormField, FormLabel, FormItem, FormMessage } from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { Button } from '@/components/ui/button'\nimport { useMyFetch } from '@/config/fetch'\nimport { ref } from 'vue'\n\nconst formSchema = toTypedSchema(\n  z\n    .object({\n      password: z.string().min(6),\n      confirmPassword: z.string().min(6),\n      email: z.string().email()\n    })\n    .superRefine(({ confirmPassword, password }, ctx) => {\n      if (confirmPassword !== password) {\n        ctx.addIssue({\n          code: 'custom',\n          message: 'The passwords did not match',\n          path: ['confirmPassword']\n        })\n      }\n    })\n)\nconst form = useForm({\n  validationSchema: formSchema\n})\nconst onSubmit = form.handleSubmit(async (val) => {\n  const { password, email } = val\n  const { data } = await useMyFetch('auth/create').post({ password, email }).json()\n  if (data.value) {\n    open.value = true;\n  }\n})\nconst open = ref(false)\n</script>\n\n<template>\n  <Dialog v-model:open=\"open\">\n    <DialogTrigger>\n      <button class=\"p-1 leading-4 rounded-full hover:bg-secondary\">\n        <Icon name=\"Plus\" size=\"36\" />\n      </button>\n    </DialogTrigger>\n    <DialogContent class=\"bg-secondary rounded\">\n      <DialogHeader>\n        <DialogTitle>Create Admin</DialogTitle>\n        <DialogDescription> Create a new admin with email and password </DialogDescription>\n      </DialogHeader>\n      <div>\n        <form @submit=\"onSubmit\">\n          <FormField v-slot=\"{ componentField }\" name=\"email\">\n            <FormItem class=\"mb-4\">\n              <FormLabel>Email</FormLabel>\n              <FormControl>\n                <Input\n                  type=\"text\"\n                  autocomplete=\"email\"\n                  placeholder=\"example@mail.com\"\n                  v-bind=\"componentField\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          </FormField>\n          <FormField v-slot=\"{ componentField }\" name=\"password\">\n            <FormItem>\n              <FormLabel>Password</FormLabel>\n              <FormControl>\n                <Input type=\"password\" autocomplete=\"new-password\" v-bind=\"componentField\" />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          </FormField>\n          <FormField v-slot=\"{ componentField }\" name=\"confirmPassword\">\n            <FormItem>\n              <FormLabel>Confirm Password</FormLabel>\n              <FormControl>\n                <Input type=\"password\" autocomplete=\"new-password\" v-bind=\"componentField\" />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          </FormField>\n          <!-- <div class=\"flex items-center space-x-2 my-4\">\n            <Checkbox id=\"terms\" />\n            <Label for=\"terms\">Remember Me</Label>\n          </div> -->\n          <Button class=\"w-full mt-4\" type=\"submit\">Login</Button>\n        </form>\n      </div>\n    </DialogContent>\n  </Dialog>\n</template>\n","<script setup lang=\"ts\">\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card'\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\nimport { computed } from 'vue'\nimport { useMyFetch, type ListData, type Response } from '@/config/fetch'\nimport CreateAdminDialog from '@/components/CreateAdminDialog.vue'\n\n// ['read', 'edit', 'write', 'delete', 'super']\nexport type Admin = {\n  email: string\n  password: string\n  isLocked: boolean\n  roles: Array<string>\n  createdAt: string\n  id: string\n}\n\nconst url = '/manager/list'\nconst fullAPIURL = computed(() => {\n  return url\n})\n\nconst { data } = useMyFetch(fullAPIURL).json<Response<ListData<Admin>>>()\nconst adminList = computed(() => {\n  return data.value?.status === 200 && data.value.metaData ? data.value.metaData : undefined\n})\n</script>\n<template>\n  <div>\n    <page-header title=\"Quản lý Admin\"> </page-header>\n\n    <div class=\"grid grid-cols-12\">\n      <Card class=\"col-span-7\">\n        <CardHeader>\n          <CardTitle>\n            <div class=\"flex gap-2 justify-between\">\n                Danh sách Admin\n                <CreateAdminDialog></CreateAdminDialog>\n            </div>\n          </CardTitle>\n        </CardHeader>\n        <CardContent class=\"pl-2\">\n          <div class=\"mt-4\" v-if=\"adminList\">\n            <div\n              class=\"flex items-center bg-muted p-1\"\n              v-for=\"admin in adminList.results\"\n              :key=\"`admin${admin.id}`\"\n            >\n              <Avatar class=\"h-9 w-9\">\n                <AvatarImage src=\"/avatars/01.png\" alt=\"Avatar\" />\n                <AvatarFallback>Admin</AvatarFallback>\n              </Avatar>\n              <div class=\"ml-4 space-y-1\">\n                <p class=\"text-sm font-medium leading-none\">{{ admin.email }} </p>\n                <p class=\"text-sm text-muted-foreground uppercase\">{{ admin.roles }}</p>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  </div>\n</template>\n"],"names":["forwarded","useForwardPropsEmits","__props","__emit","props","delegatedProps","computed","_","delegated","forwardedProps","useForwardProps","emits","formSchema","toTypedSchema","z.object","z.string","confirmPassword","password","ctx","onSubmit","useForm","val","email","data","useMyFetch","open","ref","url","fullAPIURL","adminList","_a"],"mappings":"yvBAMM,MAAAA,EAAYC,EAHJC,EACAC,CAEqC,sKCHnD,MAAMC,EAAQF,8ICCd,MAAME,EAAQF,yNCCd,MAAME,EAAQF,EAERG,EAAiBC,EAAS,IAAM,CACpC,KAAM,CAAE,MAAOC,EAAG,GAAGC,CAAc,EAAAJ,EAE5B,OAAAI,CAAA,CACR,EAEKC,EAAiBC,EAAgBL,CAAc,oQCRrD,MAAMD,EAAQF,EAERG,EAAiBC,EAAS,IAAM,CACpC,KAAM,CAAE,MAAOC,EAAG,GAAGC,CAAc,EAAAJ,EAE5B,OAAAI,CAAA,CACR,EAEKC,EAAiBC,EAAgBL,CAAc,kcCCrD,MAAMD,EAAQF,EACRS,EAAQR,EAERE,EAAiBC,EAAS,IAAM,CACpC,KAAM,CAAE,MAAOC,EAAG,GAAGC,CAAc,EAAAJ,EAE5B,OAAAI,CAAA,CACR,EAEKR,EAAYC,EAAqBI,EAAgBM,CAAK,qyCCL5D,MAAMC,EAAaC,GACjBC,GACU,CACN,SAAUC,EAAS,EAAE,IAAI,CAAC,EAC1B,gBAAiBA,EAAS,EAAE,IAAI,CAAC,EACjC,MAAOA,EAAS,EAAE,MAAM,CAAA,CACzB,EACA,YAAY,CAAC,CAAE,gBAAAC,EAAiB,SAAAC,CAAA,EAAYC,IAAQ,CAC/CF,IAAoBC,GACtBC,EAAI,SAAS,CACX,KAAM,SACN,QAAS,8BACT,KAAM,CAAC,iBAAiB,CAAA,CACzB,CAEJ,CAAA,CACL,EAIMC,EAHOC,GAAQ,CACnB,iBAAkBR,CAAA,CACnB,EACqB,aAAa,MAAOS,GAAQ,CAC1C,KAAA,CAAE,SAAAJ,EAAU,MAAAK,CAAA,EAAUD,EACtB,CAAE,KAAAE,CAAA,EAAS,MAAMC,EAAW,aAAa,EAAE,KAAK,CAAE,SAAAP,EAAU,MAAAK,CAAO,CAAA,EAAE,KAAK,EAC5EC,EAAK,QACPE,EAAK,MAAQ,GACf,CACD,EACKA,EAAOC,EAAI,EAAK,iwDC5BhBC,GAAM,kDACN,MAAAC,EAAatB,EAAS,IACnBqB,EACR,EAEK,CAAE,KAAAJ,CAAK,EAAIC,EAAWI,CAAU,EAAE,KAAgC,EAClEC,EAAYvB,EAAS,IAAM,OACxB,QAAAwB,EAAAP,EAAK,QAAL,YAAAO,EAAY,UAAW,KAAOP,EAAK,MAAM,SAAWA,EAAK,MAAM,SAAW,MAAA,CAClF"}