{"version":3,"file":"MoneyOrder-BMPQGHtX.js","sources":["../../src/components/ui/card/CardDescription.vue","../../src/components/ui/table/TableCaption.vue","../../src/components/ui/tabs/Tabs.vue","../../src/components/ui/tabs/TabsTrigger.vue","../../src/components/ui/tabs/TabsList.vue","../../src/components/ui/tabs/TabsContent.vue","../../src/components/money/VerifyOrderModal.vue","../../src/stores/balance.ts","../../src/components/money/PendingOrdersOverview.vue","../../src/components/ui/pagination/PaginationEllipsis.vue","../../src/components/ui/pagination/PaginationNext.vue","../../src/components/ui/pagination/PaginationPrev.vue","../../src/components/money/DepositTable.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue'\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<{\n  class?: HTMLAttributes['class']\n}>()\n</script>\n\n<template>\n  <p :class=\"cn('text-sm text-muted-foreground', props.class)\">\n    <slot />\n  </p>\n</template>\n","<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue'\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<{\n  class?: HTMLAttributes['class']\n}>()\n</script>\n\n<template>\n  <caption :class=\"cn('mt-4 text-sm text-muted-foreground', props.class)\">\n    <slot />\n  </caption>\n</template>\n","<script setup lang=\"ts\">\nimport { TabsRoot, useForwardPropsEmits } from 'radix-vue'\nimport type { TabsRootEmits, TabsRootProps } from 'radix-vue'\n\nconst props = defineProps<TabsRootProps>()\nconst emits = defineEmits<TabsRootEmits>()\n\nconst forwarded = useForwardPropsEmits(props, emits)\n</script>\n\n<template>\n  <TabsRoot v-bind=\"forwarded\">\n    <slot />\n  </TabsRoot>\n</template>\n","<script setup lang=\"ts\">\nimport { type HTMLAttributes, computed } from 'vue'\nimport { TabsTrigger, type TabsTriggerProps, useForwardProps } from 'radix-vue'\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<TabsTriggerProps & { class?: HTMLAttributes['class'] }>()\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props\n\n  return delegated\n})\n\nconst forwardedProps = useForwardProps(delegatedProps)\n</script>\n\n<template>\n  <TabsTrigger\n    v-bind=\"forwardedProps\"\n    :class=\"cn(\n      'inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm',\n      props.class,\n    )\"\n  >\n    <slot />\n  </TabsTrigger>\n</template>\n","<script setup lang=\"ts\">\nimport { type HTMLAttributes, computed } from 'vue'\nimport { TabsList, type TabsListProps } from 'radix-vue'\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<TabsListProps & { class?: HTMLAttributes['class'] }>()\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props\n\n  return delegated\n})\n</script>\n\n<template>\n  <TabsList\n    v-bind=\"delegatedProps\"\n    :class=\"cn(\n      'inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground',\n      props.class,\n    )\"\n  >\n    <slot />\n  </TabsList>\n</template>\n","<script setup lang=\"ts\">\nimport { type HTMLAttributes, computed } from 'vue'\nimport { TabsContent, type TabsContentProps } from 'radix-vue'\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<TabsContentProps & { class?: HTMLAttributes['class'] }>()\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props\n\n  return delegated\n})\n</script>\n\n<template>\n  <TabsContent\n    :class=\"cn('mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2', props.class)\"\n    v-bind=\"delegatedProps\"\n  >\n    <slot />\n  </TabsContent>\n</template>\n","<script setup lang=\"ts\">\nimport type { BalanceOrder } from '@/stores/balance'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from '../ui/dialog'\nimport { useMyFetch } from '@/config/fetch'\nimport { computed, ref, watch } from 'vue'\nimport { formateDate, truncateNumber } from '@/lib/utils'\nimport { Button } from '../ui/button'\n\nconst mockResponse = {\n  message: 'Approve transaction successfully!',\n  status: 200,\n  metaData: {\n    updateTransaction: {\n      userId: '1911171',\n      received: null,\n      type: 'deposit',\n      transaction: 'b113ade273404ea1c978f781248cd96c4c6b9d8a',\n      amount: 200,\n      amount_vnd: 200000,\n      comment: '1911171',\n      status: 'Success',\n      fee: 0,\n      createdAt: '2025-04-06T12:11:11.155Z',\n      id: '67ff2fd32b95d3e5c83bb077'\n    },\n    updatedVipData: {\n      currentVipLevel: 0,\n      remainingRecharge: 800\n    }\n  }\n}\nconst props = defineProps<{\n  order: BalanceOrder\n}>()\nconst payload = computed(() => {\n  return {\n    transaction: props.order.transaction\n  }\n})\nconst {\n  data,\n  execute: verifyOrder,\n  isFetching: pending\n} = useMyFetch('balance', { immediate: false }).post(payload).json()\n\nconst open = ref()\nwatch(data, () => {\n  console.log('Here is', data)\n  if (data.value?.status === 200) {\n    open.value = false\n  }\n})\n</script>\n\n<template>\n  <Dialog v-model:open=\"open\">\n    <DialogTrigger>\n      <slot />\n    </DialogTrigger>\n    <DialogContent>\n      <DialogHeader>\n        <DialogTitle> Duyệt lệnh </DialogTitle>\n        <DialogDescription> Bạn hãy kiểm tra lại thông tin </DialogDescription>\n      </DialogHeader>\n      <div>\n        <div class=\"mt-4\">\n          <div>ID người dùng:</div>\n          <div class=\"pl-2\">{{ props.order.userId }}</div>\n        </div>\n        <div class=\"mt-4\">\n          <div>Số tiền chuyển khoản:</div>\n          <div class=\"pl-2\">\n            <span v-if=\"props.order.type === 'deposit'\">Nạp</span>\n            <span v-if=\"props.order.type === 'withdraw'\">Rút</span>\n            {{ truncateNumber(props.order.amount_vnd) }} VNĐ ({{ props.order.type }})\n          </div>\n        </div>\n        <div v-if=\"props.order.amount\" class=\"mt-4\">\n          <div>Số tiền nạp:</div>\n          <div class=\"pl-2\">{{ truncateNumber(props.order.amount) }} Diamonds</div>\n        </div>\n        <div v-if=\"props.order.createdAt\" class=\"mt-4\">\n          <div>Thời gian tạo lệnh:</div>\n          <div class=\"pl-2\">{{ formateDate(props.order.createdAt) }}</div>\n        </div>\n        <div class=\"border-t-2 border-dashed border-accent my-4\"></div>\n        <div class=\"text-center\">\n          <Button :disabled=\"pending\" @click=\"verifyOrder\"> Duyệt lệnh </Button>\n        </div>\n      </div>\n    </DialogContent>\n  </Dialog>\n</template>\n","import type { PaginationParams } from '@/config/app'\nimport { useMyFetch, type ListData, type Response } from '@/config/fetch'\nimport { defineStore } from 'pinia'\nimport { computed, ref } from 'vue'\n\nexport type BalanceOrder = {\n  userId: string\n  received: string | null\n  type: string\n  transaction: string\n  amount: number\n  amount_vnd: number\n  comment: string\n  status: string\n  fee: number\n  createdAt: string\n  id: string\n}\n\nexport const useBalanceStore = defineStore('balance', () => {\n  const transactionParams = ref<PaginationParams>({\n    page: 1,\n    limit: 10,\n  })\n  const apiRoute = 'balance'\n  const query = new URLSearchParams(transactionParams.value as any).toString()\n  const fullApiRoute = `${apiRoute}?${query}`\n  const { data, execute: getTransactionList } =\n    useMyFetch(fullApiRoute).json<Response<ListData<BalanceOrder>>>()\n\n  const transactionList = computed(() => {\n    return data.value?.status === 200 && data.value.metaData ? data.value.metaData : undefined\n  })\n\n  return {\n    transactionList,\n    getTransactionList,\n    transactionParams\n  }\n})\n","<script lang=\"ts\" setup>\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\nimport { formateDate, myDateFormatter, truncateNumber } from '@/lib/utils'\nimport VerifyOrderModal from './VerifyOrderModal.vue'\nimport { useBalanceStore } from '@/stores/balance'\nimport { storeToRefs } from 'pinia'\nimport { computed } from 'vue'\nconst balanceStore = useBalanceStore()\nconst { transactionList } = storeToRefs(balanceStore)\nconst list = computed(() => {\n  return transactionList.value?.results ?? []\n})\n</script>\n\n<template>\n  <div class=\"space-y-8\">\n    <div class=\"flex items-center\" v-for=\"item in list\" :key=\"`balance${item.id}`\">\n      <Avatar class=\"h-9 w-9\">\n        <AvatarImage src=\"/avatars/01.png\" alt=\"Avatar\" />\n        <AvatarFallback>User</AvatarFallback>\n      </Avatar>\n      <div class=\"ml-4 space-y-1\">\n        <div class=\"text-sm font-medium leading-none\">{{ item.amount }} Diamonds</div>\n        <div class=\"text-sm text-muted-foreground uppercase\">\n          {{ item.type }}\n          <VerifyOrderModal :order=\"item\" v-if=\"item.status === 'Pending'\">\n            <button class=\"p-1 leading-4 rounded text-xs bg-accent text-secondary-foreground\">\n              Duyệt lệnh\n            </button>\n          </VerifyOrderModal>\n          <Icon\n            v-else-if=\"item.status === 'Success'\"\n            name=\"CheckCheck\"\n            size=\"16\"\n            class=\"text-emerald-500 inline leading-4 rounded-full bg-muted\"\n          />\n        </div>\n      </div>\n      <div class=\"ml-auto font-medium\">\n        <div>{{ truncateNumber(item.amount_vnd) }} VND</div>\n        <div>\n          {{ formateDate(item.createdAt) }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { type HTMLAttributes, computed } from 'vue'\nimport { PaginationEllipsis, type PaginationEllipsisProps } from 'radix-vue'\nimport { MoreHorizontal } from 'lucide-vue-next'\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<PaginationEllipsisProps & { class?: HTMLAttributes['class'] }>()\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props\n\n  return delegated\n})\n</script>\n\n<template>\n  <PaginationEllipsis v-bind=\"delegatedProps\" :class=\"cn('w-9 h-9 flex items-center justify-center', props.class)\">\n    <slot>\n      <MoreHorizontal />\n    </slot>\n  </PaginationEllipsis>\n</template>\n","<script setup lang=\"ts\">\nimport { type HTMLAttributes, computed } from 'vue'\nimport { PaginationNext, type PaginationNextProps } from 'radix-vue'\nimport { ChevronRight } from 'lucide-vue-next'\nimport {\n  Button,\n} from '@/components/ui/button'\nimport { cn } from '@/lib/utils'\n\nconst props = withDefaults(defineProps<PaginationNextProps & { class?: HTMLAttributes['class'] }>(), {\n  asChild: true,\n})\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props\n\n  return delegated\n})\n</script>\n\n<template>\n  <PaginationNext v-bind=\"delegatedProps\">\n    <Button :class=\"cn('w-10 h-10 p-0', props.class)\" variant=\"outline\">\n      <slot>\n        <ChevronRight class=\"h-4 w-4\" />\n      </slot>\n    </Button>\n  </PaginationNext>\n</template>\n","<script setup lang=\"ts\">\nimport { type HTMLAttributes, computed } from 'vue'\nimport { PaginationPrev, type PaginationPrevProps } from 'radix-vue'\nimport { ChevronLeft } from 'lucide-vue-next'\nimport {\n  Button,\n} from '@/components/ui/button'\nimport { cn } from '@/lib/utils'\n\nconst props = withDefaults(defineProps<PaginationPrevProps & { class?: HTMLAttributes['class'] }>(), {\n  asChild: true,\n})\n\nconst delegatedProps = computed(() => {\n  const { class: _, ...delegated } = props\n\n  return delegated\n})\n</script>\n\n<template>\n  <PaginationPrev v-bind=\"delegatedProps\">\n    <Button :class=\"cn('w-10 h-10 p-0', props.class)\" variant=\"outline\">\n      <slot>\n        <ChevronLeft class=\"h-4 w-4\" />\n      </slot>\n    </Button>\n  </PaginationPrev>\n</template>\n","<script setup lang=\"ts\">\nimport { storeToRefs } from 'pinia'\nimport {\n  Table,\n  TableBody,\n  TableCaption,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from '@/components/ui/table'\n\nimport {\n  Pagination,\n  PaginationEllipsis,\n  PaginationList,\n  PaginationListItem,\n  PaginationNext,\n  PaginationPrev\n} from '@/components/ui/pagination'\n\nimport { computed, ref } from 'vue'\nimport { formateDate, truncateNumber } from '@/lib/utils'\nimport { useAuthStore } from '@/stores/auth'\nimport { useMyFetch, type ListData, type Response } from '@/config/fetch'\nimport type { BalanceOrder } from '@/stores/balance'\nimport { Card, CardContent, CardTitle } from '../ui/card'\nimport CardHeader from '../ui/card/CardHeader.vue'\nimport { Button } from '../ui/button'\nimport VerifyOrderModal from './VerifyOrderModal.vue'\n\nconst balanceParams = ref({\n  page: 1,\n  limit: 10,\n  type: 'deposit'\n})\nconst apiRoute = 'balance'\nconst query = new URLSearchParams(balanceParams.value as any).toString()\nconst fullApiRoute = `${apiRoute}?${query}`\n\nconst { data, isFetching: pending } = useMyFetch(fullApiRoute, { refetch: true }).json<\n  Response<ListData<BalanceOrder>>\n>()\nconst depositList = computed(() => {\n  return data.value?.metaData\n})\n</script>\n\n<template>\n  <Card class=\"\">\n    <CardHeader>\n      <CardTitle> Lệnh nạp (Deposit) </CardTitle>\n    </CardHeader>\n    <CardContent>\n      <div class=\"mt-4\">\n        <div class=\"border rounded\">\n          <Table class=\"\">\n            <TableCaption>\n              <div>Đây là các lệnh nạp trong hệ thống</div>\n            </TableCaption>\n            <TableHeader>\n              <TableRow>\n                <TableHead>\n                  <div>ID /</div>\n                  <div>Chi tiết</div>\n                </TableHead>\n                <TableHead>Số tiền</TableHead>\n                <TableHead>Mã giao dịch</TableHead>\n                <TableHead>Trạng thái</TableHead>\n                <TableHead class=\"text-right\"> Ngày tạo lệnh </TableHead>\n                <TableHead class=\"text-center\"> Action </TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody v-if=\"depositList\">\n              <TableRow\n                v-for=\"entry in depositList?.results\"\n                :key=\"entry.id\"\n                class=\"odd:bg-(--color-background-mute)\"\n              >\n                <TableCell>\n                  <div class=\"md:hidden font-bold\">\n                    <span class=\"text-(--vt-c-white-soft)\">\n                      {{ entry.userId }}\n                    </span>\n                  </div>\n                  <div :title=\"entry.comment\">\n                    {{ entry.comment }}\n                  </div>\n                </TableCell>\n                <TableCell>\n                  <div class=\"font-bold text-(--vt-c-white-soft)\">\n                    {{ truncateNumber(entry.amount_vnd) }} VNĐ\n                  </div>\n                  <div class=\"font-bold text-(--vt-c-white-soft)\">\n                    {{ truncateNumber(entry.amount) }} Diamonds\n                  </div>\n                </TableCell>\n                <TableCell class=\"break-words max-w-[100px]\">\n                  {{ entry.transaction }}\n                </TableCell>\n                <TableCell class=\"uppercase font-bold\">\n                  {{ entry.status }}\n                </TableCell>\n                <TableCell class=\"text-right\">\n                  {{ formateDate(entry.createdAt) }}\n                </TableCell>\n                <TableCell class=\"text-center\">\n                  <VerifyOrderModal v-if=\"entry.status === 'Pending'\" :order=\"entry\">\n                    <Button prepend-icon=\"Check\" class=\"px-2 py-1\"> Duyệt lệnh </Button>\n                  </VerifyOrderModal>\n                </TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </div>\n        <Pagination\n          v-if=\"depositList\"\n          class=\"mt-4\"\n          v-slot=\"{ page }\"\n          :items-per-page=\"depositList.limit\"\n          :total=\"depositList.totalResults\"\n          show-edges\n          v-model:page=\"balanceParams.page\"\n          :disabled=\"pending\"\n        >\n          <PaginationList v-slot=\"{ items }\" class=\"flex items-center gap-1\">\n            <PaginationPrev class=\"w-6 h-6\"></PaginationPrev>\n            <template v-for=\"(item, index) in items\">\n              <PaginationListItem\n                v-if=\"item.type === 'page'\"\n                :key=\"index\"\n                :value=\"item.value\"\n                as-child\n              >\n                <button\n                  class=\"w-6 h-6 p-0 hover:bg-primary/50 cursor-pointer rounded\"\n                  :class=\"{\n                    'bg-primary text-primary-foreground': item.value === page\n                  }\"\n                >\n                  {{ item.value }}\n                </button>\n              </PaginationListItem>\n              <PaginationEllipsis v-else :key=\"item.type\" :index=\"index\" />\n            </template>\n            <PaginationNext class=\"w-6 h-6\"></PaginationNext>\n          </PaginationList>\n        </Pagination>\n      </div>\n    </CardContent>\n  </Card>\n</template>\n"],"names":["props","__props","forwarded","useForwardPropsEmits","__emit","delegatedProps","computed","_","delegated","forwardedProps","useForwardProps","payload","data","verifyOrder","pending","useMyFetch","open","ref","watch","_a","useBalanceStore","defineStore","transactionParams","apiRoute","query","fullApiRoute","getTransactionList","balanceStore","transactionList","storeToRefs","list","balanceParams","depositList"],"mappings":"4xBAIA,MAAMA,EAAQC,wKCAd,MAAMD,EAAQC,0SCGR,MAAAC,EAAYC,EAHJF,EACAG,CAEqC,6MCFnD,MAAMJ,EAAQC,EAERI,EAAiBC,EAAS,IAAM,CACpC,KAAM,CAAE,MAAOC,EAAG,GAAGC,CAAc,EAAAR,EAE5B,OAAAQ,CAAA,CACR,EAEKC,EAAiBC,EAAgBL,CAAc,imBCRrD,MAAML,EAAQC,EAERI,EAAiBC,EAAS,IAAM,CACpC,KAAM,CAAE,MAAOC,EAAG,GAAGC,CAAc,EAAAR,EAE5B,OAAAQ,CAAA,CACR,4UCND,MAAMR,EAAQC,EAERI,EAAiBC,EAAS,IAAM,CACpC,KAAM,CAAE,MAAOC,EAAG,GAAGC,CAAc,EAAAR,EAE5B,OAAAQ,CAAA,CACR,kgBC2BD,MAAMR,EAAQC,EAGRU,EAAUL,EAAS,KAChB,CACL,YAAaN,EAAM,MAAM,WAC3B,EACD,EACK,CACJ,KAAAY,EACA,QAASC,EACT,WAAYC,CAAA,EACVC,EAAW,UAAW,CAAE,UAAW,EAAO,CAAA,EAAE,KAAKJ,CAAO,EAAE,KAAK,EAE7DK,EAAOC,EAAI,EACjB,OAAAC,GAAMN,EAAM,IAAM,OACR,QAAA,IAAI,UAAWA,CAAI,IACvBO,EAAAP,EAAK,QAAL,YAAAO,EAAY,UAAW,MACzBH,EAAK,MAAQ,GACf,CACD,6vCCvCYI,GAAkBC,GAAY,UAAW,IAAM,CAC1D,MAAMC,EAAoBL,EAAsB,CAC9C,KAAM,EACN,MAAO,EAAA,CACR,EACKM,EAAW,UACXC,EAAQ,IAAI,gBAAgBF,EAAkB,KAAY,EAAE,SAAS,EACrEG,EAAe,GAAGF,CAAQ,IAAIC,CAAK,GACnC,CAAE,KAAAZ,EAAM,QAASc,GACrBX,EAAWU,CAAY,EAAE,KAAuC,EAM3D,MAAA,CACL,gBALsBnB,EAAS,IAAM,OAC9B,QAAAa,EAAAP,EAAK,QAAL,YAAAO,EAAY,UAAW,KAAOP,EAAK,MAAM,SAAWA,EAAK,MAAM,SAAW,MAAA,CAClF,EAIC,mBAAAc,EACA,kBAAAJ,CACF,CACF,CAAC,uOChCD,MAAMK,EAAeP,GAAgB,EAC/B,CAAE,gBAAAQ,CAAA,EAAoBC,GAAYF,CAAY,EAC9CG,EAAOxB,EAAS,IAAM,OACnB,QAAAa,EAAAS,EAAgB,QAAhB,YAAAT,EAAuB,UAAW,CAAC,CAAA,CAC3C,y6BCLD,MAAMnB,EAAQC,EAERI,EAAiBC,EAAS,IAAM,CACpC,KAAM,CAAE,MAAOC,EAAG,GAAGC,CAAc,EAAAR,EAE5B,OAAAQ,CAAA,CACR,yRCHD,MAAMR,EAAQC,EAIRI,EAAiBC,EAAS,IAAM,CACpC,KAAM,CAAE,MAAOC,EAAG,GAAGC,CAAc,EAAAR,EAE5B,OAAAQ,CAAA,CACR,yUCRD,MAAMR,EAAQC,EAIRI,EAAiBC,EAAS,IAAM,CACpC,KAAM,CAAE,MAAOC,EAAG,GAAGC,CAAc,EAAAR,EAE5B,OAAAQ,CAAA,CACR,2cCmBKe,GAAW,+CALjB,MAAMQ,EAAgBd,EAAI,CACxB,KAAM,EACN,MAAO,GACP,KAAM,SAAA,CACP,EAEKO,EAAQ,IAAI,gBAAgBO,EAAc,KAAY,EAAE,SAAS,EACjEN,EAAe,GAAGF,EAAQ,IAAIC,CAAK,GAEnC,CAAE,KAAAZ,EAAM,WAAYE,GAAYC,EAAWU,EAAc,CAAE,QAAS,EAAM,CAAA,EAAE,KAEhF,EACIO,EAAc1B,EAAS,IAAM,OACjC,OAAOa,EAAAP,EAAK,QAAL,YAAAO,EAAY,QAAA,CACpB"}